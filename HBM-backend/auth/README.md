# HBM Backend Auth API

ì¸ì¦ ê´€ë ¨ API ì„œë²„ (íšŒì›ê°€ì…, ë¡œê·¸ì¸)

## ğŸš€ ì‹œì‘í•˜ê¸°

### 1. í™˜ê²½ ì„¤ì •

1. `.env.example` íŒŒì¼ì„ ë³µì‚¬í•˜ì—¬ `.env` íŒŒì¼ ìƒì„±
   ```bash
   cp .env.example .env
   ```
   
   Windows (PowerShell):
   ```powershell
   Copy-Item .env.example .env
   ```

2. `.env` íŒŒì¼ì— ë³¸ì¸ì˜ ë°ì´í„°ë² ì´ìŠ¤ ì •ë³´ ì…ë ¥
   ```env
   DB_HOST=127.0.0.1
   DB_USER=root
   DB_PASSWORD=your_password
   DB_NAME=my_db
   DB_CHARSET=utf8mb4
   ```

### 2. íŒ¨í‚¤ì§€ ì„¤ì¹˜

```bash
pip install -r requirements.txt
```

### 3. ë°ì´í„°ë² ì´ìŠ¤ ì´ˆê¸°í™”

```bash
python run_schema.py
```

ë˜ëŠ” MySQL ëª…ë ¹ì–´ë¡œ ì§ì ‘ ì‹¤í–‰:
```bash
mysql -u root -p < schema.sql
```

### 4. ì„œë²„ ì‹¤í–‰

```bash
python app.py
```

ì„œë²„ëŠ” `http://0.0.0.0:5000`ì—ì„œ ì‹¤í–‰ë©ë‹ˆë‹¤.

## ğŸ“‹ API ì—”ë“œí¬ì¸íŠ¸

### íšŒì›ê°€ì…
- **URL**: `POST /auth/register`
- **Request Body**:
  ```json
  {
    "username": "testuser",
    "password": "testpass123"
  }
  ```
- **Response**:
  - `201`: íšŒì›ê°€ì… ì„±ê³µ
  - `400`: ì˜ëª»ëœ ìš”ì²­
  - `409`: ì´ë¯¸ ì¡´ì¬í•˜ëŠ” ì‚¬ìš©ì

### ë¡œê·¸ì¸
- **URL**: `POST /auth/login`
- **Request Body**:
  ```json
  {
    "username": "testuser",
    "password": "testpass123"
  }
  ```
- **Response**:
  - `200`: ë¡œê·¸ì¸ ì„±ê³µ
  - `401`: ë¹„ë°€ë²ˆí˜¸ ë¶ˆì¼ì¹˜
  - `404`: ì¡´ì¬í•˜ì§€ ì•ŠëŠ” ì‚¬ìš©ì

## ğŸ“ í”„ë¡œì íŠ¸ êµ¬ì¡°

```
auth/
â”œâ”€â”€ app.py              # Flask ì• í”Œë¦¬ì¼€ì´ì…˜ ë©”ì¸
â”œâ”€â”€ auth_api.py         # ì¸ì¦ API Blueprint
â”œâ”€â”€ db.py               # ë°ì´í„°ë² ì´ìŠ¤ ì—°ê²° ê´€ë¦¬
â”œâ”€â”€ schema.sql          # ë°ì´í„°ë² ì´ìŠ¤ ìŠ¤í‚¤ë§ˆ
â”œâ”€â”€ run_schema.py       # ìŠ¤í‚¤ë§ˆ ì‹¤í–‰ ìŠ¤í¬ë¦½íŠ¸
â”œâ”€â”€ .env.example        # í™˜ê²½ ë³€ìˆ˜ ì˜ˆì‹œ íŒŒì¼
â”œâ”€â”€ .env                # í™˜ê²½ ë³€ìˆ˜ íŒŒì¼ (gitì— í¬í•¨ ì•ˆë¨)
â”œâ”€â”€ requirements.txt    # Python íŒ¨í‚¤ì§€ ëª©ë¡
â””â”€â”€ README.md          # í”„ë¡œì íŠ¸ ë¬¸ì„œ
```

## ğŸ”§ í™˜ê²½ ë³€ìˆ˜

| ë³€ìˆ˜ëª… | ì„¤ëª… | ê¸°ë³¸ê°’ |
|--------|------|--------|
| `DB_HOST` | ë°ì´í„°ë² ì´ìŠ¤ í˜¸ìŠ¤íŠ¸ | `127.0.0.1` |
| `DB_USER` | ë°ì´í„°ë² ì´ìŠ¤ ì‚¬ìš©ì | `root` |
| `DB_PASSWORD` | ë°ì´í„°ë² ì´ìŠ¤ ë¹„ë°€ë²ˆí˜¸ | (í•„ìˆ˜) |
| `DB_NAME` | ë°ì´í„°ë² ì´ìŠ¤ ì´ë¦„ | `my_db` |
| `DB_CHARSET` | ë¬¸ì ì¸ì½”ë”© | `utf8mb4` |

## ğŸ“ ì£¼ì˜ì‚¬í•­

- `.env` íŒŒì¼ì€ Gitì— í¬í•¨ë˜ì§€ ì•ŠìŠµë‹ˆë‹¤ (`.gitignore`ì— í¬í•¨)
- ê°ì ìì‹ ì˜ ë°ì´í„°ë² ì´ìŠ¤ ì •ë³´ë¥¼ `.env` íŒŒì¼ì— ì„¤ì •í•´ì•¼ í•©ë‹ˆë‹¤
- `schema.sql`ì„ ì‹¤í–‰í•˜ì—¬ ë°ì´í„°ë² ì´ìŠ¤ì™€ í…Œì´ë¸”ì„ ë¨¼ì € ìƒì„±í•´ì•¼ í•©ë‹ˆë‹¤

## ğŸ§ª í…ŒìŠ¤íŠ¸

í…ŒìŠ¤íŠ¸ íŒŒì¼ì´ í¬í•¨ë˜ì–´ ìˆìŠµë‹ˆë‹¤:
- `test_api.py`: ì „ì²´ í…ŒìŠ¤íŠ¸ ìŠ¤ìœ„íŠ¸
- `simple_test.py`: ê°„ë‹¨í•œ í…ŒìŠ¤íŠ¸

